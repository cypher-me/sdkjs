<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="../browser.js"></script>
    <script type="text/javascript" src="../Drawings/WorkEvents.js"></script>
    <script type="text/javascript" src="../scroll.js"></script>
    <script type="text/javascript">
        function slimScrolling() {
            var checkbox = document.getElementById('slimScroll');
            if(checkbox.checked === true) {
                isSlimScroll = true;
                createScrolls(mainDiv);
            } else {
                isSlimScroll = false;
                createScrolls(mainDiv);
            }
        }
        function cornerRadius() {
            var checkbox = document.getElementById('cornerRadius');
            if(checkbox.checked === true) {
                settings.cornerRadius = 6;
                settings1.cornerRadius = 6;
                scrollObject.Repos(settings);
                scrollObject1.Repos(settings1);
            } else {
                settings.cornerRadius = 0;
                settings1.cornerRadius = 0;
                scrollObject.Repos(settings);
                scrollObject1.Repos(settings1);
            }
        }
        function clickFadeDelay() {
            var textArea = document.getElementById('fadeDelay');
            if(parseInt(textArea.value)) {
                settings.fadeInFadeOutDelay = parseInt(textArea.value);
                settings1.fadeInFadeOutDelay = parseInt(textArea.value);
                scrollObject.Repos(settings);
                scrollObject1.Repos(settings1);
            }
        }
        function showArrows() {
            var checkbox = document.getElementById('showArrows');
            if(checkbox.checked === true) {
                isShowArrows = true;
                createScrolls(mainDiv);
            } else {
                isShowArrows = false;
                createScrolls(mainDiv);
            }

        }
    </script>
</head>

<body>
<div style="width: 350px; height: 100px; padding-left: 734px; z-index: 100" id="menu">
    <input type="checkbox" id="slimScroll"  onchange="slimScrolling();"> Slim Scroll
    <input type="checkbox" id="cornerRadius"  onchange="cornerRadius();"> Corner Radius
    <input type="checkbox" id="showArrows"  onchange="showArrows();" checked> Show Arrows
    <input type="text" value="20" id="fadeDelay" size="1">
    <button  id="buttonFadeDelay" onclick="clickFadeDelay()"/> Fade delay
</div>
</body>

<script type="text/javascript">

    var AscCommon = window['AscCommon'];
    var dPR = window.devicePixelRatio;

    var menuDiv = document.getElementById('menu');
    menuDiv.style.position = "absolute";

    var mainDiv = document.createElement('div');
    mainDiv.id = "maindiv";
    mainDiv.style.top = "0px";
    mainDiv.style.left = "0px";
    mainDiv.style.width = 720 + (isSlimScroll ? 11 : 14) + "px";
    mainDiv.style.height = 720 + (isSlimScroll ? 11 : 14) + "px";
    mainDiv.style.position = "absolute";
    var str  = '';
    for(var i = 0; i < 50; i++) {
     str += 'testtesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttest<br>'
    }

    mainDiv.innerHTML = '<div id="content" style="position:absolute;width:100%;height:100%;overflow:hidden"></div>'
    document.body.append(mainDiv);
    var content = document.getElementById("content");
    var str;
    for (var i = 0; i < 720; i++) {
        str += 'test + <br>'
    }
    content.innerHTML = str;

    var scrollObject, scrollObject1, settings, settings1, isSlimScroll = false, isShowArrows = true;

    function createScrolls(div) {
        if(document.getElementById("ws-v-scrollbar")) document.getElementById("ws-v-scrollbar").remove();
        if(document.getElementById("ws-h-scrollbar")) document.getElementById("ws-h-scrollbar").remove();

        var divVertScroll = document.createElement('div');
        divVertScroll.id = "ws-v-scrollbar";
        settings = new AscCommon.ScrollSettings();
        divVertScroll.style.position = "absolute";
        divVertScroll.style.width = (isSlimScroll ? 11 : 14) + "px";
        divVertScroll.style.height = "720px";
        divVertScroll.style.right = "0px";
        settings.slimScroll = isSlimScroll;
        settings.showArrows = isShowArrows;
        div.appendChild(divVertScroll);
        scrollObject = new AscCommon.ScrollObject("ws-v-scrollbar", settings);

        scrollObject.bind("scrollvertical", function(evt)
        {
            var content = document.getElementById("content");
            content.scrollTop = evt.scrollPositionY / settings.vscrollStep;
        });

        var divHorScroll = document.createElement('div');
        divHorScroll.id = "ws-h-scrollbar";
        settings1 = new AscCommon.ScrollSettings();
        divHorScroll.style.position = "absolute";
        divHorScroll.style.width = "720px";
        divHorScroll.style.height = (isSlimScroll ? 11 : 14) + "px";
        divHorScroll.style.bottom =  "0px";
        settings1.slimScroll = isSlimScroll;
        settings1.showArrows = isShowArrows;
        settings1.isHorizontalScroll = true;
        settings1.isVerticalScroll = false;
        div.appendChild(divHorScroll);
        scrollObject1 = new AscCommon.ScrollObject("ws-h-scrollbar", settings1);

        scrollObject1.bind("scrollhorizontal", function(evt)
        {
           var content = document.getElementById("content");
            content.scrollLeft = evt.scrollPositionX / settings1.hscrollStep;
        });

    }
    createScrolls(mainDiv);

    window.addEventListener('mousemove', e => {
            scrollObject.mouseDown ? scrollObject.evt_mousemove.call(scrollObject, event) : false;
            scrollObject1.mouseDown ? scrollObject1.evt_mousemove.call(scrollObject1, event) : false;
    });
    window.addEventListener('mouseup', e => {
        scrollObject.mouseDown ? scrollObject.evt_mouseup.call( scrollObject, event) : false;
        scrollObject1.mouseDown ? scrollObject1.evt_mouseup.call( scrollObject1, event) : false;
    });
    content.addEventListener('mousewheel', e => {
        scrollObject.evt_mousewheel.call( scrollObject, event);
    });

    window.onresize = function() {
        scrollObject.Repos(settings);
        scrollObject1.Repos(settings1);
    }

</script>
</html>